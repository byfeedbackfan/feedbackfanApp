#  INFORME

##  FECHA - 16 de agosto del 2020

## ***Setup y configuracion inicial del proyecto***
### **Objetivo:** Crear la configuracion del proyecto a traves del CLI, integrar las carpetas nativas de ios y android e instalar las dependencias de Capacitor.<br /><br />

1. Creaci贸n de la estructura con el CLI de Ionic.

    ![](./images/imagen-1.png)

2. Instalamos Capacitor para utilizar los componentes de los dispositivos m贸viles a trav茅s de los plugins que ofrece el Framework.

    ![](./images/imagen-2.png)

3. Inicializamos Capacitor con la informaci贸n de la aplicaci贸n, que corresponde al "appName" y al "appId".

    ![](./images/imagen-3.png)

4. Hacemos el Build de nuestra aplicaci贸n, esto crear谩 la carpeta "www".

    ![](./images/imagen-4.png)

5. Agregamos las plataformas de Ios y Android que corresponden a los proyectos nativos.

    ![](./images/imagen-5.png)

    ![](./images/imagen-6.png)

6. Se agrega al mismo nivel del root de la aplicaci贸n, las carpetas "informe" y "doc".

    ![](./images/imagen-7.png)

### Estructura Base del proyecto:

![](./images/imagen-8.png)

+ La carpeta ios y android, corresponden a las aplicaciones m贸viles nativas cofiguradas a trav茅s del webView.
+ La carpeta src contiene la aplicaci贸n HTML, CSS y JavaScript
+ Los archivos .JSON corresponden a configuraciones realizadas por el CLI de Ionic, como por ejemplo las dependencias de la aplicaci贸n.

## ***Estructura inicial de la Aplicaci贸n***
### **Objetivo:** Establecer carpetas, rutas y componentes b谩sicos en la aplicaci贸n que ser谩n de utilidad en todo el proyecto.
### **Consideraciones:** En este apartado se tomar谩n componentes de la plantilla asignada y se proceder谩 a establecer una estructura de la aplicaci贸n siguiendo las mejores pr谩cticas establecidas en la documentaci贸n de John Papa. <br /><br />

### Estructura base de la carpeta src:
***NOTA: Esta configuracion inicial puede variar***

![](./images/imagen-9.png)

+ La carpeta Core contiene un modulo y funciona para establecer todos los servicios hacia las APIS externas, en este caso, todas las peticiones hacia Firebase. Su m贸dulo se importa en el app.module para utilizarlo en cualquier parte de la aplicaci贸n.
+ La carpeta home es el componente que se carga al iniciar la aplicaci贸n. Este componente ser谩 modificado posteriormente.
+ La carpeta page-not-found contiene el m贸dulo y las p谩gina que se va a establecer al momento de no conseguir alguna ruta especificada en la aplicaci贸n.
+ La carpeta shared va a contener alertas, notificaciones, pipes y otros componentes que se comparten entre todos los componentes y que pueden reutilizarse.
+ La carpeta shell, corresponde a una forma de crear esqueleto de precargado de los datos en la aplicaci贸n. Tambien posee el DataStore para hacer de una manera m谩s fluida la obtenci贸n y env铆o de informaci贸n sin necesidad de bloquear las funcionalidades de la aplicaci贸n mientras se espera por los datos.
+ La carpeta assets contiene iconos e imagenes est谩ticas de la aplicaci贸n, como por ejemplo la imagen que carga en page-not-found.
+ La carpeta environments contiene las variables de entorno y api Keys de la aplicaci贸n. **Por motivos de seguridad, esta carpeta no ser谩 publicada en el repositorio, debido a que es p煤blico**.
+ La carpeta theme, contiene informaci贸n referente a los estilos scss globales de la aplicaci贸n.<br /><br />

##  FECHA - 17 de agosto del 2020
## ***Setup y configuracion inicial de Firebase***
### **Objetivo:** Configurar los servicios de autenticaci贸n de firebase, el servicio de Cloud Firestore para la base de datos y establecer la configuraci贸n entre el proyecto y los servicios necesarios de Firebase.<br /><br />

### CONFIGURACIN DE FIREBASE - PLATAFORMA
1. Una vez en la consola del proyecto en Firebase, habilitamos el m茅todo de inicio de sesi贸n por correo electr贸nico/contrase帽a. Esto va a permitir la autenticaci贸n por correo electr贸nico.

![](./images/imagen-10.png)

2. Configuramos Cloud Firestore para la capa de persistencia de la aplicaci贸n. Para esto establecemos su ubicaci贸n en us-central.

![](./images/imagen-11.png)

3. Establecemos las reglas de seguridad de la base de datos. En este caso como estamos en etapa de desarrollo, se permitir谩 agregar y leer documentos de la base de datos.

    ![](./images/imagen-12.png)

4. Configuramos la aplicaci贸n web en firebase para que nos asignen las claves y variables de acceso a los servicios.

    ![](./images/imagen-16.png)

### CONFIGURACIN DE FIREBASE - APLICACIN
**Nota: Debemos tener instalado el CLI de Firebase de forma global**

1. Instalamos la libreria de AngularFire para conectar Firebase con la aplicaci贸n. Esta libreria tambien posee lo necsario para hacer las peticiones de autenticaci贸n y de Cloud Firestore.

    ![](./images/imagen-13.png)

2. Agregamos las variables de entorno que nos proporciona Firebase en el environment.ts y environment.prod.ts. **Por motivos de seguridad, no se colocar谩 una imagen en este apartado**

3. Accedemos a Firebase a trav茅s del siguiente comando.

    ![](./images/imagen-14.png)

4. Iniciamos el proyecto de Firebase en la aplicaci贸n. Seleccionamos Firestore para utilizar los servicios de la base de datos.

    ![](./images/imagen-15.png)

+ Esto crear谩 los archivos de configuraci贸n para el proyecto, .firebaserc, firebase.json y firestore.indexes.json. El proyecto estar谩 listo para utilizar los servicios de Firebase.

## ***Modelo no Relacional de la Base de Datos***
**NOTA: La siguiente imagen es una estructura inicial que se propone para representar la forma en que ser谩n almacenados los datos en Firebase, siguiendo la documentaci贸n oficial y un esquema orientado a documentos.**

![](./images/Diagrama.png)

##  FECHA - 19 de agosto del 2020
### **Primera reunion con el tutor empresarial.**
Se convers贸 sobre el flujo de trabajo y se plantearon los primeros issues para la semana inicial.

##  FECHA - 20 de agosto del 2020
## **Inicio de sesi贸n en la aplicaci贸n**

1. Se crea la carpeta auth, que contendr谩 todo lo relacionacio a la autenticaci贸n del usuario, olvido de contrase帽a, registro y reseteo de clave.

    1.1 Dentro de esta carpeta se encuentra la carpeta sign-in, que contiene toda la l贸gica de inicio de sesi贸n correspondiente a la p谩gina y todo el contenido HTML. Se importa estos archivos al m贸dulo de autenticaci贸n y se hacen los respectivos ajustes para crear las rutas de navegaci贸n.

    ![](./images/imagen-17.png)

2. En la carpeta core, se crea la carpeta services, que contiene toda la informaci贸n de las peticiones y llamadas a firebase.

    2.1 Creamos dentro de la carpeta service el archivo "auth.service.ts" que contiene toda la l贸gica de negocio correspondiente al inicio de sesi贸n. Adem谩s contendr谩 toda la l贸gica correspondiente al registro, olvido de contrase帽a y recuperaci贸n de contrase帽a para mantener al usuario autenticado.

    ![](./images/imagen-18.png)

3. Se agregan los botones de registro y recuperaci贸n de contrase帽a que ser谩n implementados posteriormente.

##  FECHA - 21 de agosto del 2020
## **Registro de usuario**

1. Se crea la p谩gina de registro dentro de la carpeta auth, con el nombre de "sign-up", esta carpeta contiene toda la logica de la p谩gina, estilos y c贸digo HTML correspondiente al registro.

    1.1 Se agregan el componente al m贸dulo de autenticaci贸n y se elaboran las rutas espec铆ficas para su accesso en la aplicac铆on.

    ![](./images/imagen-19.png)

2. Se crea en la carpeta core/services, el archivo "user.service.ts", el cual contiene la informaci贸n relacionada a la l贸gica de negocio del crud de usuario.

    2.1 Se implementa los m茅todos necesarios de autenticaci贸n de usuario para el registro en firebase, dentro del archivo "auth.service.ts"

    ![](./images/imagen-20.png)

3. Se crean las reglas de la base de datos en firebase para asegurar los datos de los usuarios. **Por motivos de seguridad esta imagen no ser谩 mostrada.**

4. Se crea el archivo "storage.service.ts", en la carpeta core/services, el cual contiene toda la informaci贸n referente a el almacenamiento de archivos e im谩genes en firebase storage.

    ![](./images/imagen-21.png)

4. Se inicializa el Storage en firebase para almacenar las im谩genes de los usuarios.

##  FECHA - 22 de agosto del 2020
## **Perfil de  y editar datos personales**

1. se agrega una nueva p谩gina en la carpeta "app/profile". Esta contiene toda la l贸gica del perfil de usuario correspondiente a la p谩gina, los estilos y c贸digo HTML.

    ![](./images/imagen-22.png)

    1.1 Se crea el guard y el resolver para prevenir que los usuarios puedan acceder a esta ruta si no poseen una sesi贸n activa.

2. Se agrega enl archivo "user.service.ts" los metodos necesarios para obtener el usuario de la base de datos. Cabe destacar que para un mejor rendimiento, optimizaci贸n y reducci贸n de costors, la informaci贸n del usuario se guarda en cach茅 una vez inicia sesi贸n.

3. se implementa el cierre de sesi贸n y la vista de editar perfil en esta p谩gina. Para ello se agrega los m茅todos necesarios en los servicios de la aplicaci贸n.

##  FECHA - 23 de agosto del 2020
## **Olvido de contrase帽a y reseteo de contrase帽a**

1. Se crean los m茅todos necesarios en la carpeta core/auth.service.ts para implementar el olvido de contrase帽a por correo y cambio de contrase帽a en el componente de editar informaci贸n del usuario.

2. Se crea la vista de olvido de contrase帽a en la carpeta auth/forgot-password

    ![](./images/imagen-23.png)

##  FECHA - 24 de agosto del 2020
## **Estructura del tab de navegaci贸n**

1. se crea en la carpeta app/tabs toda la l贸gica correspondiente a la navegaci贸n principal de la aplicaci贸n. Esta carpeta contiene un archivo de rutas para que el usuario pueda navegar, adem谩s del codigo HTML y sus estilos.

    ![](./images/imagen-24.png)

    1.1 Se hace un cambio en el app routing para que al cargar este componente, se conecte directamente a esta p谩gina y esta sea la encargada de manejar la navegaci贸n.

##  FECHA - 25 de agosto del 2020
## **Segunda reuni贸n con el tutor empresarial**

1. Se muestra los avances del proyecto.
2. Se observan algunos cambios visuales.
3. Se agrega en la carpeta configurations dos archivos.

+ roles.ts para mantener centralizado los roles de la aplicaci贸n.
+ staticText.ts para mantener centralizado el contenido est谩tico de la aplicaci贸n, como el texto.

4. En la carpeta assets/icons se coloca el logo de la aplicaci贸n y el de la empresa.

5. se modifican cambios visuales y est茅ticos en las diferentes vistas de la aplicaci贸n.

##  FECHA - 26 de agosto del 2020
## **Tercera reuni贸n con el tutor empresarial**

1. Se agregaron nuevos issues a elaborar.
2. Se definieron nuevos ajustes en las vistas.
3. Se agrega internacionalizaci贸n i18n, por lo que se elimina de configurations el archivo staticText.ts y se crea una carpeta en assets/i18n que contendr谩 los archivos JSON con las traducciones.

    ![](./images/imagen-30.png)